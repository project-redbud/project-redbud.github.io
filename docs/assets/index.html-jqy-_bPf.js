import{_ as s,c as i,o as e,e as a}from"./app-k4uPTofk.js";const t={},n=a(`<p>本文档面向开发者与调用者，详细描述了 FunGame WebAPI 中 <code>LogOut</code> 端口的功能、使用方法、请求与响应格式，以及可能的错误情况。</p><h2 id="概述" tabindex="-1"><a class="header-anchor" href="#概述"><span>概述</span></a></h2><p><code>LogOut</code> 端口用于用户退出登录，旨在终止当前用户的会话并吊销相关的 JWT Bearer Token。调用此端口需要用户已登录并提供有效的 Bearer Token 进行身份验证。成功退出后，用户会话将被销毁，后续请求需重新登录。</p><h2 id="api-请求" tabindex="-1"><a class="header-anchor" href="#api-请求"><span>API 请求</span></a></h2><ul><li><strong>URL</strong>: <code>/user/logout</code></li><li><strong>HTTP 方法</strong>: <code>POST</code></li><li><strong>认证方案</strong>: Bearer Token</li><li><strong>请求体格式</strong>: 无需请求体</li><li><strong>响应体格式</strong>: JSON</li></ul><p>示例：<a href="https://api.redbud.fun/user/logout/" target="_blank" rel="noopener noreferrer">https://api.redbud.fun/user/logout/</a></p><h2 id="url-查询参数" tabindex="-1"><a class="header-anchor" href="#url-查询参数"><span>URL 查询参数</span></a></h2><p>无</p><h2 id="请求头" tabindex="-1"><a class="header-anchor" href="#请求头"><span>请求头</span></a></h2><table><thead><tr><th>头部字段</th><th>类型</th><th>描述</th><th>示例值</th></tr></thead><tbody><tr><td><code>Authorization</code></td><td>string</td><td>Bearer Token，用于身份验证</td><td><code>Bearer eyJhbGciOiJIUzI1NiIs...</code></td></tr></tbody></table><p><strong>注意</strong>：</p><ul><li>请求头中必须包含有效的 <code>Authorization</code> 字段，格式为 <code>Bearer &lt;token&gt;</code>，否则将返回认证失败。</li></ul><h2 id="请求体" tabindex="-1"><a class="header-anchor" href="#请求体"><span>请求体</span></a></h2><p>此端口无需请求体，直接发送 POST 请求即可。</p><h2 id="返回结果" tabindex="-1"><a class="header-anchor" href="#返回结果"><span>返回结果</span></a></h2><p>请求成功时（<code>StatusCode</code> = 200）会返回一个 <code>PayloadModel</code> 对象，包含以下字段：</p><table><thead><tr><th>字段名</th><th>类型</th><th>描述</th><th>示例值</th></tr></thead><tbody><tr><td><code>RequestType</code></td><td>int</td><td>请求类型，固定为 <code>RunTime_Logout</code></td><td><code>1</code></td></tr><tr><td><code>StatusCode</code></td><td>int</td><td>HTTP 状态码</td><td><code>200</code></td></tr><tr><td><code>Message</code></td><td>string</td><td>操作结果的描述信息</td><td><code>&quot;你已成功退出登录！&quot;</code></td></tr><tr><td><code>Data</code></td><td>object</td><td>附加数据，此处为空</td><td><code>{}</code></td></tr></tbody></table><h2 id="响应示例" tabindex="-1"><a class="header-anchor" href="#响应示例"><span>响应示例</span></a></h2><h3 id="退出登录成功" tabindex="-1"><a class="header-anchor" href="#退出登录成功"><span>退出登录成功</span></a></h3><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><button class="copy" title="Copy code" data-copied="Copied"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">RequestType</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">StatusCode</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 200</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">Message</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">你已成功退出登录！</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">Data</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {}</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_400-bad-request" tabindex="-1"><a class="header-anchor" href="#_400-bad-request"><span>400 Bad Request</span></a></h3><p>当退出登录失败或服务器无法处理请求时返回：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><button class="copy" title="Copy code" data-copied="Copied"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">RequestType</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">StatusCode</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 400</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">Message</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">退出登录失败！</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">Data</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {}</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="未授权-未提供有效-token" tabindex="-1"><a class="header-anchor" href="#未授权-未提供有效-token"><span>未授权（未提供有效 Token）</span></a></h3><p>若未提供有效的 Bearer Token，返回标准的 HTTP 401 状态码，通常不附带详细响应体：</p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="Copy code" data-copied="Copied"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>401 Unauthorized</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="可能的错误情况" tabindex="-1"><a class="header-anchor" href="#可能的错误情况"><span>可能的错误情况</span></a></h2><table><thead><tr><th>场景</th><th>响应消息</th><th>HTTP 状态码</th></tr></thead><tbody><tr><td>用户未登录或 Token 无效</td><td>无详细消息</td><td>401</td></tr><tr><td>用户会话不存在</td><td><code>&quot;退出登录失败！&quot;</code></td><td>400</td></tr><tr><td>服务器内部错误</td><td>无详细消息</td><td>400</td></tr></tbody></table><p><strong>注意</strong>：</p><ul><li>状态码 <code>200</code> 表示退出登录成功，用户会话已被销毁，关联的 Bearer Token 失效。</li><li>状态码 <code>401</code> 表示未通过认证，通常是 Token 缺失或无效。</li><li>状态码 <code>400</code> 表示请求处理失败，可能是用户会话未找到或服务器异常。</li></ul><h2 id="使用流程" tabindex="-1"><a class="header-anchor" href="#使用流程"><span>使用流程</span></a></h2><ol><li><strong>发送退出请求</strong>： <ul><li>使用有效的 Bearer Token，向 <code>/user/logout</code> 发送 POST 请求。</li></ul></li><li><strong>处理响应</strong>： <ul><li>若成功（<code>StatusCode</code> = 200），客户端应清除本地保存的 Token，结束用户会话。</li><li>若失败，根据 <code>StatusCode</code> 和 <code>Message</code> 处理错误，可能需要重新登录。</li></ul></li></ol><h2 id="注意事项" tabindex="-1"><a class="header-anchor" href="#注意事项"><span>注意事项</span></a></h2><ul><li>客户端在收到成功响应后，应立即删除本地存储的 Bearer Token，以防止后续误用。</li><li>退出登录后，任何需要认证的 API 调用将失败，需重新登录获取新 Token。</li></ul><h2 id="代码示例" tabindex="-1"><a class="header-anchor" href="#代码示例"><span>代码示例</span></a></h2><h3 id="curl-请求" tabindex="-1"><a class="header-anchor" href="#curl-请求"><span>cURL 请求</span></a></h3><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="Copy code" data-copied="Copied"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">curl</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -X</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> POST</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">https://api.redbud.fun/user/logout</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \\</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">-H </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Authorization: Bearer eyJhbGciOiJIUzI1NiIs...</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div>`,37),l=[n];function d(h,r){return e(),i("div",null,l)}const p=s(t,[["render",d],["__file","index.html.vue"]]),k=JSON.parse(`{"path":"/api/user/logout/","title":"登出","lang":"en-US","frontmatter":{"title":"登出","author":"Project Redbud","createTime":"2025/03/23 19:47:43","permalink":"/api/user/logout/","head":[["script",{"id":"check-dark-mode"},";(function () {const um= localStorage.getItem('vuepress-theme-appearance') || 'auto';const sm = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;if (um === 'dark' || (um !== 'light' && sm)) {document.documentElement.classList.add('dark');}})();"],["script",{"id":"check-mac-os"},"document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))"]]},"headers":[{"level":2,"title":"概述","slug":"概述","link":"#概述","children":[]},{"level":2,"title":"API 请求","slug":"api-请求","link":"#api-请求","children":[]},{"level":2,"title":"URL 查询参数","slug":"url-查询参数","link":"#url-查询参数","children":[]},{"level":2,"title":"请求头","slug":"请求头","link":"#请求头","children":[]},{"level":2,"title":"请求体","slug":"请求体","link":"#请求体","children":[]},{"level":2,"title":"返回结果","slug":"返回结果","link":"#返回结果","children":[]},{"level":2,"title":"响应示例","slug":"响应示例","link":"#响应示例","children":[{"level":3,"title":"退出登录成功","slug":"退出登录成功","link":"#退出登录成功","children":[]},{"level":3,"title":"400 Bad Request","slug":"_400-bad-request","link":"#_400-bad-request","children":[]},{"level":3,"title":"未授权（未提供有效 Token）","slug":"未授权-未提供有效-token","link":"#未授权-未提供有效-token","children":[]}]},{"level":2,"title":"可能的错误情况","slug":"可能的错误情况","link":"#可能的错误情况","children":[]},{"level":2,"title":"使用流程","slug":"使用流程","link":"#使用流程","children":[]},{"level":2,"title":"注意事项","slug":"注意事项","link":"#注意事项","children":[]},{"level":2,"title":"代码示例","slug":"代码示例","link":"#代码示例","children":[{"level":3,"title":"cURL 请求","slug":"curl-请求","link":"#curl-请求","children":[]}]}],"readingTime":{"minutes":2.43,"words":729},"git":{"updatedTime":1742734543000,"contributors":[{"name":"milimoe","email":"mili@wrss.org","commits":1}]},"filePathRelative":"api/user/logout.md","categoryList":[{"id":"8a5da5","sort":10004,"name":"api"},{"id":"6f8393","sort":10005,"name":"user"}]}`);export{p as comp,k as data};
