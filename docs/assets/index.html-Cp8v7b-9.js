import{_ as s,c as i,o as a,e}from"./app-CIaYzl6K.js";const t={},n=e(`<p>本文档面向开发者与调用者，详细描述了 FunGame WebAPI 中 <code>Login</code> 端口的功能、使用方法、请求与响应格式，以及可能的错误情况。</p><h2 id="概述" tabindex="-1"><a class="header-anchor" href="#概述"><span>概述</span></a></h2><p><code>Login</code> 端口用于用户登录，支持通过用户名和密码进行身份验证。成功登录后，服务器将返回一个 JWT Bearer Token 和一个 Open Token，用于后续的 API 调用和会话管理。该端口无需额外的 API Bearer Token 验证，属于公开访问端口。</p><h2 id="api-请求" tabindex="-1"><a class="header-anchor" href="#api-请求"><span>API 请求</span></a></h2><ul><li><strong>URL</strong>: <code>/user/login</code></li><li><strong>HTTP 方法</strong>: <code>POST</code></li><li><strong>认证方案</strong>: 无需认证</li><li><strong>请求体格式</strong>: JSON</li><li><strong>响应体格式</strong>: JSON</li></ul><p>示例：<a href="https://api.redbud.fun/user/login/" target="_blank" rel="noopener noreferrer">https://api.redbud.fun/user/login/</a></p><h2 id="url-查询参数" tabindex="-1"><a class="header-anchor" href="#url-查询参数"><span>URL 查询参数</span></a></h2><p>无</p><h2 id="请求体" tabindex="-1"><a class="header-anchor" href="#请求体"><span>请求体</span></a></h2><p>请求体应包含以下字段：</p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th><th>示例值</th></tr></thead><tbody><tr><td><code>Username</code></td><td>string</td><td>用户名，唯一标识用户</td><td><code>&quot;player123&quot;</code></td></tr><tr><td><code>Password</code></td><td>string</td><td>用户密码</td><td><code>&quot;Passw0rd!&quot;</code></td></tr></tbody></table><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><button class="copy" title="Copy code" data-copied="Copied"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">Username</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">player123</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">Password</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Passw0rd!</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>注意</strong>：</p><ul><li>用户名和密码不能为空。</li><li>建议客户端对密码进行加密传输，服务器会在接收后使用用户特定的密钥进行二次加密验证。</li></ul><h2 id="返回结果" tabindex="-1"><a class="header-anchor" href="#返回结果"><span>返回结果</span></a></h2><p>请求成功时（<code>StatusCode</code> = 200）会返回一个 <code>PayloadModel</code> 对象，包含以下字段：</p><table><thead><tr><th>字段名</th><th>类型</th><th>描述</th><th>示例值</th></tr></thead><tbody><tr><td><code>RequestType</code></td><td>int</td><td>请求类型，固定为 <code>Login_Login</code></td><td><code>13</code></td></tr><tr><td><code>StatusCode</code></td><td>int</td><td>HTTP 状态码</td><td><code>200</code></td></tr><tr><td><code>Message</code></td><td>string</td><td>操作结果的描述信息</td><td><code>&quot;登录成功！&quot;</code></td></tr><tr><td><code>Data</code></td><td>object</td><td>附加数据，包含登录结果</td><td>见下文</td></tr></tbody></table><h3 id="data-对象字段" tabindex="-1"><a class="header-anchor" href="#data-对象字段"><span><code>Data</code> 对象字段</span></a></h3><table><thead><tr><th>字段名</th><th>类型</th><th>描述</th><th>示例值</th></tr></thead><tbody><tr><td><code>bearerToken</code></td><td>string</td><td>JWT Bearer Token，用于认证后续请求</td><td><code>&quot;eyJhbGciOiJIUzI1NiIs...&quot;</code></td></tr><tr><td><code>openToken</code></td><td>string</td><td>Open Token，用于会话管理</td><td><code>&quot;abcd1234-efgh-5678-...&quot;</code></td></tr></tbody></table><h2 id="响应示例" tabindex="-1"><a class="header-anchor" href="#响应示例"><span>响应示例</span></a></h2><h3 id="登录成功" tabindex="-1"><a class="header-anchor" href="#登录成功"><span>登录成功</span></a></h3><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><button class="copy" title="Copy code" data-copied="Copied"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">RequestType</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 13</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">StatusCode</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 200</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">Message</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">登录成功！</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">Data</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">    &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">bearerToken</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">eyJhbGciOiJIUzI1NiIs...</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">    &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">openToken</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">abcd1234-efgh-5678-ijkl-9012mnop</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_401-unauthorized" tabindex="-1"><a class="header-anchor" href="#_401-unauthorized"><span>401 Unauthorized</span></a></h3><p>当用户名或密码不正确时返回：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><button class="copy" title="Copy code" data-copied="Copied"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">RequestType</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 13</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">StatusCode</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 401</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">Message</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">用户名或密码不正确。</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">Data</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {}</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_400-bad-request" tabindex="-1"><a class="header-anchor" href="#_400-bad-request"><span>400 Bad Request</span></a></h3><p>当服务器无法处理请求时返回：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><button class="copy" title="Copy code" data-copied="Copied"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">服务器暂时无法处理登录请求。</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="可能的错误情况" tabindex="-1"><a class="header-anchor" href="#可能的错误情况"><span>可能的错误情况</span></a></h2><table><thead><tr><th>场景</th><th>响应消息</th><th>HTTP 状态码</th></tr></thead><tbody><tr><td>用户名或密码不正确</td><td><code>&quot;用户名或密码不正确。&quot;</code></td><td>401</td></tr><tr><td>服务器内部错误</td><td><code>&quot;服务器暂时无法处理登录请求。&quot;</code></td><td>400</td></tr></tbody></table><p><strong>注意</strong>：</p><ul><li>状态码 <code>200</code> 表示请求被成功接收并处理，但具体登录是否成功需通过 <code>Data</code> 中的内容判断。</li><li>状态码 <code>401</code> 表示认证失败，通常是用户名或密码错误。</li><li>状态码 <code>400</code> 表示请求格式错误或服务器内部异常。</li></ul><h2 id="使用流程" tabindex="-1"><a class="header-anchor" href="#使用流程"><span>使用流程</span></a></h2><ol><li><strong>发送登录请求</strong>： <ul><li>使用用户名和密码向 <code>/user/login</code> 发送 POST 请求。</li></ul></li><li><strong>处理响应</strong>： <ul><li>若成功，提取 <code>bearerToken</code> 和 <code>openToken</code>，分别用于后续 API 认证和会话管理。</li><li>若失败，根据 <code>Message</code> 和 <code>StatusCode</code> 处理错误。</li></ul></li></ol><h2 id="注意事项" tabindex="-1"><a class="header-anchor" href="#注意事项"><span>注意事项</span></a></h2><p>客户端需妥善处理 <code>bearerToken</code> 和 <code>openToken</code>，避免泄露给他人，确保账户安全。</p><h2 id="代码示例" tabindex="-1"><a class="header-anchor" href="#代码示例"><span>代码示例</span></a></h2><h3 id="curl-请求" tabindex="-1"><a class="header-anchor" href="#curl-请求"><span>cURL 请求</span></a></h3><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="Copy code" data-copied="Copied"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">curl</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -X</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> POST</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">https://api.redbud.fun/user/login</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \\</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">-H </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Content-Type: application/json</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \\</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">-d </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">{</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  &quot;Username&quot;: &quot;player123&quot;,</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  &quot;Password&quot;: &quot;Passw0rd!&quot;</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">}</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,39),l=[n];function d(h,p){return a(),i("div",null,l)}const k=s(t,[["render",d],["__file","index.html.vue"]]),o=JSON.parse(`{"path":"/api/user/login/","title":"登录","lang":"en-US","frontmatter":{"title":"登录","author":"Project Redbud","createTime":"2025/03/21 01:38:46","permalink":"/api/user/login/","head":[["script",{"id":"check-dark-mode"},";(function () {const um= localStorage.getItem('vuepress-theme-appearance') || 'auto';const sm = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;if (um === 'dark' || (um !== 'light' && sm)) {document.documentElement.classList.add('dark');}})();"],["script",{"id":"check-mac-os"},"document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))"]]},"headers":[{"level":2,"title":"概述","slug":"概述","link":"#概述","children":[]},{"level":2,"title":"API 请求","slug":"api-请求","link":"#api-请求","children":[]},{"level":2,"title":"URL 查询参数","slug":"url-查询参数","link":"#url-查询参数","children":[]},{"level":2,"title":"请求体","slug":"请求体","link":"#请求体","children":[]},{"level":2,"title":"返回结果","slug":"返回结果","link":"#返回结果","children":[{"level":3,"title":"Data 对象字段","slug":"data-对象字段","link":"#data-对象字段","children":[]}]},{"level":2,"title":"响应示例","slug":"响应示例","link":"#响应示例","children":[{"level":3,"title":"登录成功","slug":"登录成功","link":"#登录成功","children":[]},{"level":3,"title":"401 Unauthorized","slug":"_401-unauthorized","link":"#_401-unauthorized","children":[]},{"level":3,"title":"400 Bad Request","slug":"_400-bad-request","link":"#_400-bad-request","children":[]}]},{"level":2,"title":"可能的错误情况","slug":"可能的错误情况","link":"#可能的错误情况","children":[]},{"level":2,"title":"使用流程","slug":"使用流程","link":"#使用流程","children":[]},{"level":2,"title":"注意事项","slug":"注意事项","link":"#注意事项","children":[]},{"level":2,"title":"代码示例","slug":"代码示例","link":"#代码示例","children":[{"level":3,"title":"cURL 请求","slug":"curl-请求","link":"#curl-请求","children":[]}]}],"readingTime":{"minutes":2.48,"words":744},"git":{"updatedTime":1742492921000,"contributors":[{"name":"milimoe","email":"110188673+milimoe@users.noreply.github.com","commits":1}]},"filePathRelative":"api/user/login.md","categoryList":[{"id":"8a5da5","sort":10000,"name":"api"},{"id":"6f8393","sort":10002,"name":"user"}]}`);export{k as comp,o as data};
